<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@fsnjs/tokenize</title><meta name="description" content="Documentation for @fsnjs/tokenize"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@fsnjs/tokenize</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@fsnjs/tokenize</h2></div><div class="tsd-panel tsd-typography"><p><strong>@fsnjs/tokenize</strong> â€¢ <a href="./docs/globals.md"><strong>Docs</strong></a></p>
<hr>
<a id="md:fsnjstokenize" class="tsd-anchor"></a><h1 class="tsd-anchor-link">@fsnjs/tokenize<a href="#md:fsnjstokenize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><code>@fsnjs/tokenize</code> is a zero-dependency library that exports the abstract
<code>Tokenizer</code> class.</p>
<p><code>Tokenizer</code> is an abstract class designed to take in a sequence of values
(e.g., characters, objects, etc.) and convert them into structured tokens
that can later be processed by another part of the application.</p>
<p>This class is useful for applications such as parsers or interpreters,
where incoming data needs to be broken down into tokens for further processing.</p>
<a id="md:tutorial-building-the-jsontokenizer-class" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Tutorial: Building the <code>JsonTokenizer</code> Class<a href="#md:tutorial-building-the-jsontokenizer-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In this tutorial, we will walk through the process of building a custom
<code>JsonTokenizer</code> class in TypeScript. This class processes a stringified
JSON input and tokenizes it into a structured format. By following this
guide, you will learn how to create a tokenizer that can handle JSON
objects and arrays, among other elements.</p>
<a id="md:define-the-jsontoken-interface" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Define the <code>JsonToken</code> Interface<a href="#md:define-the-jsontoken-interface" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>We start by defining a custom token interface tailored to JSON
structures. This token will not only store a value and a position (as in
the base <code>Token</code> interface) but also include additional information
about the type of the JSON data.</p>
<pre><code class="ts"><span class="hl-0">declare</span><span class="hl-1"> </span><span class="hl-0">interface</span><span class="hl-1"> </span><span class="hl-2">JsonToken</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-2">Token</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// Stores the key for JSON objects.</span><br/><span class="hl-1">    </span><span class="hl-4">key</span><span class="hl-1">?: </span><span class="hl-2">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">// Indicates whether the token represents an array or an object.</span><br/><span class="hl-1">    </span><span class="hl-4">type</span><span class="hl-1">?: </span><span class="hl-5">&#39;array&#39;</span><span class="hl-1"> | </span><span class="hl-5">&#39;object&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">// Can either be a string, number, or an array of JsonTokens</span><br/><span class="hl-1">    </span><span class="hl-3">// (to handle complex structures like nested arrays or objects).</span><br/><span class="hl-1">    </span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> | </span><span class="hl-2">number</span><span class="hl-1"> | </span><span class="hl-2">JsonToken</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:create-the-jsontokenizer-class" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Create the <code>JsonTokenizer</code> Class<a href="#md:create-the-jsontokenizer-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>JsonTokenizer</code> class will extend a base <code>Tokenizer</code> class that
processes characters from a JSON string, turning them into <code>JsonToken</code>s.</p>
<a id="md:implement-onnexttoken" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Implement <code>onNextToken()</code><a href="#md:implement-onnexttoken" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>Tokenizer</code>'s abstract method onNextToken identifies the start of
JSON objects (<code>{</code>) and arrays (<code>[</code>). When it encounters these characters,
it calls the appropriate method to consume the structure's children
and create the token:</p>
<pre><code class="ts"><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">JsonTokenizer</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-2">Tokenizer</span><span class="hl-1">&lt;</span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-2">JsonToken</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-6">onNextToken</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">): </span><span class="hl-2">any</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-8">/{/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">tokens</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeObject</span><span class="hl-1">());</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-8">/</span><span class="hl-9">\[</span><span class="hl-8">/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">tokens</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeArray</span><span class="hl-1">());</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:handle-whitespace" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Handle Whitespace<a href="#md:handle-whitespace" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Whitespace characters should be ignored while tokenizing. The
<code>_consumeWhitespace()</code> method skips over whitespace to ensure only
meaningful tokens are processed:</p>
<pre><code class="ts"><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-6">_consumeWhitespace</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Shift values until a non-whitespace character is encountered</span><br/><span class="hl-1">    </span><span class="hl-7">while</span><span class="hl-1"> (</span><span class="hl-8">/\s/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">)) </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">vals</span><span class="hl-1">.</span><span class="hl-6">shift</span><span class="hl-1">()!;</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:handle-json-objects-and-arrays" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Handle JSON objects and arrays<a href="#md:handle-json-objects-and-arrays" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To handle JSON objects and arrays, we can create methods that
recursively tokenize the inner elements of the objects and arrays,
as well as methods that consume words and numbers:</p>
<pre><code class="ts"><span class="hl-3">// Consume chars until the &#39;}&#39; character is encountered</span><br/><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-6">consumeObject</span><span class="hl-1">(): </span><span class="hl-4">JsonToken</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">_consumeInner</span><span class="hl-1">(</span><span class="hl-5">&#39;}&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;object&#39;</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Consume chars until the &#39;]&#39; character is encountered</span><br/><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-6">consumeArray</span><span class="hl-1">(): </span><span class="hl-4">JsonToken</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">_consumeInner</span><span class="hl-1">(</span><span class="hl-5">&#39;]&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;array&#39;</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Consume chars UNTIL a second &#39;&quot;&#39; character is encountered</span><br/><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-6">consumeWord</span><span class="hl-1">(</span><span class="hl-4">startToken</span><span class="hl-1"> = </span><span class="hl-5">&#39;&quot;&#39;</span><span class="hl-1">, </span><span class="hl-4">endRegExp</span><span class="hl-1"> =</span><span class="hl-8"> /&quot;/</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consume</span><span class="hl-1">(</span><span class="hl-4">startToken</span><span class="hl-1">, </span><span class="hl-5">&#39;CONSUME_ORPHAN&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        .</span><span class="hl-6">until</span><span class="hl-1">((</span><span class="hl-4">val</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">endRegExp</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">))</span><br/><span class="hl-1">        .</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-5">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Consume chars WHILE numbers are encountered</span><br/><span class="hl-4">public</span><span class="hl-1"> </span><span class="hl-6">consumeNumber</span><span class="hl-1">(</span><span class="hl-4">startNumber</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-6">Number</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consume</span><span class="hl-1">(</span><span class="hl-4">startNumber</span><span class="hl-1">, </span><span class="hl-5">&#39;CONSUME_ORPHAN&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">            .</span><span class="hl-6">while</span><span class="hl-1">((</span><span class="hl-4">val</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-8"> /\d/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">))</span><br/><span class="hl-1">            .</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-5">&#39;&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:consume-objects-and-arrays" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Consume Objects and Arrays<a href="#md:consume-objects-and-arrays" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>We can abstract the logic that consumes arrays and objects into
a single method <code>_consumeInner()</code> that recursively processes
all elements inside the JSON structure until the closing character
(<code>}</code> for objects or <code>]</code> for arrays) is encountered:</p>
<pre><code class="ts"><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-6">_consumeInner</span><span class="hl-1">(</span><span class="hl-4">endToken</span><span class="hl-1">: </span><span class="hl-5">&#39;]&#39;</span><span class="hl-1"> | </span><span class="hl-5">&#39;}&#39;</span><span class="hl-1">): </span><span class="hl-4">JsonToken</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">arrVals</span><span class="hl-1">: </span><span class="hl-2">JsonToken</span><span class="hl-1">[] = [];</span><br/><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-4">val</span><span class="hl-1"> = </span><span class="hl-5">&#39;$&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-7">while</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> !== </span><span class="hl-4">endToken</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-4">val</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">next</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-3">// We can safely ignore commas</span><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> === </span><span class="hl-5">&#39;,&#39;</span><span class="hl-1">) </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> === </span><span class="hl-5">&#39;[&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeArray</span><span class="hl-1">());</span><br/><span class="hl-1">            </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> === </span><span class="hl-5">&#39;{&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeObject</span><span class="hl-1">());</span><br/><span class="hl-1">            </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> === </span><span class="hl-5">&#39;&quot;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">key</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeWord</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">next</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">_consumeWhitespace</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">next</span><span class="hl-1">());</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">next</span><span class="hl-1"> !== </span><span class="hl-5">&#39;:&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">vals</span><span class="hl-1">.</span><span class="hl-6">unshift</span><span class="hl-1">(</span><span class="hl-4">next</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">({</span><br/><span class="hl-1">                    </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">                    </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><br/><span class="hl-1">            </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeKeyValue</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">));</span><br/><span class="hl-1">            </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-8">/\d/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">({</span><br/><span class="hl-1">                </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeNumber</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-4">arrVals</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:consume-keyvalue-pairs" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Consume Key/Value Pairs<a href="#md:consume-keyvalue-pairs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-4">private</span><span class="hl-1"> </span><span class="hl-6">_consumeKeyValue</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-4">JsonToken</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">_consumeWhitespace</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">next</span><span class="hl-1">());</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// &#39;{&#39; indicates that the value is the start</span><br/><span class="hl-1">    </span><span class="hl-3">// of an inner object.</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1"> === </span><span class="hl-5">&#39;{&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeObject</span><span class="hl-1">().</span><span class="hl-4">value</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;object&#39;</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// &#39;[&#39; indicates that the value is the start</span><br/><span class="hl-1">    </span><span class="hl-3">// of an inner array</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1"> === </span><span class="hl-5">&#39;[&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeArray</span><span class="hl-1">().</span><span class="hl-4">value</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;array&#39;</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// &#39;&quot;&#39; indicates that the value is the start of a string value</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1"> === </span><span class="hl-5">&#39;&quot;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeWord</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// regexp that indicates the start of a digit</span><br/><span class="hl-1">    </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-8">/\d/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeNumber</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">),</span><br/><span class="hl-1">            </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-7">throw</span><span class="hl-1"> </span><span class="hl-5">&#39;Unexpected char encountered &quot;&#39;</span><span class="hl-1"> + </span><span class="hl-4">value</span><span class="hl-1"> + </span><span class="hl-5">&#39;&quot;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:putting-it-all-together" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Putting It All Together<a href="#md:putting-it-all-together" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-0">interface</span><span class="hl-1"> </span><span class="hl-2">JsonToken</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-2">Token</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">key</span><span class="hl-1">?: </span><span class="hl-2">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">type</span><span class="hl-1">?: </span><span class="hl-5">&#39;array&#39;</span><span class="hl-1"> | </span><span class="hl-5">&#39;object&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> | </span><span class="hl-2">number</span><span class="hl-1"> | </span><span class="hl-2">JsonToken</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">JsonTokenizer</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-2">Tokenizer</span><span class="hl-1">&lt;</span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-2">JsonToken</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-6">onNextToken</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">): </span><span class="hl-2">any</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-8">/{/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">tokens</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeObject</span><span class="hl-1">());</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-8">/</span><span class="hl-9">\[</span><span class="hl-8">/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">tokens</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeArray</span><span class="hl-1">());</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">/**</span><br/><span class="hl-3">     * Consume an object&#39;s children</span><br/><span class="hl-3">     */</span><br/><span class="hl-1">    </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-6">consumeObject</span><span class="hl-1">(): </span><span class="hl-2">JsonToken</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">_consumeInner</span><span class="hl-1">(</span><span class="hl-5">&#39;}&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">            </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;object&#39;</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">/**</span><br/><span class="hl-3">     * Consume an array&#39;s elements</span><br/><span class="hl-3">     */</span><br/><span class="hl-1">    </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-6">consumeArray</span><span class="hl-1">(): </span><span class="hl-2">JsonToken</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">_consumeInner</span><span class="hl-1">(</span><span class="hl-5">&#39;]&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">            </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;array&#39;</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">/**</span><br/><span class="hl-3">     * Consumes vals until a non-whitespace val is encountered</span><br/><span class="hl-3">     * </span><span class="hl-0">@param</span><span class="hl-3"> </span><span class="hl-4">value</span><span class="hl-3"> A value from `vals`</span><br/><span class="hl-3">     * </span><span class="hl-0">@returns</span><span class="hl-3"> The next value unshifted from `vals` that is not a</span><br/><span class="hl-3">     * whitespace character</span><br/><span class="hl-3">     */</span><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-6">_consumeWhitespace</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">while</span><span class="hl-1"> (</span><span class="hl-8">/\s/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">)) </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">next</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">/**</span><br/><span class="hl-3">     * Consumes chars until `endRegExp` matches the char.</span><br/><span class="hl-3">     * </span><span class="hl-0">@param</span><span class="hl-3"> </span><span class="hl-4">startToken</span><span class="hl-3"> (default: `&quot;`) The char that starts the word</span><br/><span class="hl-3">     * </span><span class="hl-0">@param</span><span class="hl-3"> </span><span class="hl-4">endRegExp</span><span class="hl-3"> (default: `/&quot;/`) A regular expression that marks the end</span><br/><span class="hl-3">     * of the &quot;word&quot;</span><br/><span class="hl-3">     */</span><br/><span class="hl-1">    </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-6">consumeWord</span><span class="hl-1">(</span><span class="hl-4">startToken</span><span class="hl-1"> = </span><span class="hl-5">&#39;&quot;&#39;</span><span class="hl-1">, </span><span class="hl-4">endRegExp</span><span class="hl-1"> =</span><span class="hl-8"> /&quot;/</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consume</span><span class="hl-1">(</span><span class="hl-4">startToken</span><span class="hl-1">, </span><span class="hl-5">&#39;CONSUME_ORPHAN&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">            .</span><span class="hl-6">until</span><span class="hl-1">((</span><span class="hl-4">val</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">endRegExp</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">))</span><br/><span class="hl-1">            .</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-5">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">/**</span><br/><span class="hl-3">     * Consumes a number, given the number char that was unshifted</span><br/><span class="hl-3">     * </span><span class="hl-0">@param</span><span class="hl-3"> </span><span class="hl-4">startNumber</span><span class="hl-3"> The number character that starts the number</span><br/><span class="hl-3">     * </span><span class="hl-0">@returns</span><span class="hl-3"> The consumed number</span><br/><span class="hl-3">     */</span><br/><span class="hl-1">    </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-6">consumeNumber</span><span class="hl-1">(</span><span class="hl-4">startNumber</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-6">Number</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consume</span><span class="hl-1">(</span><span class="hl-4">startNumber</span><span class="hl-1">, </span><span class="hl-5">&#39;CONSUME_ORPHAN&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">                .</span><span class="hl-6">while</span><span class="hl-1">((</span><span class="hl-4">val</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-8"> /\d/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">))</span><br/><span class="hl-1">                .</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-5">&#39;&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        );</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">/**</span><br/><span class="hl-3">     * Consumes an inner array or object</span><br/><span class="hl-3">     * </span><span class="hl-0">@param</span><span class="hl-3"> </span><span class="hl-4">endToken</span><span class="hl-3"> The token that marks the end of the inner array</span><br/><span class="hl-3">     * or object</span><br/><span class="hl-3">     * </span><span class="hl-0">@returns</span><span class="hl-3"> An array or object token with its sub elements</span><br/><span class="hl-3">     */</span><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-6">_consumeInner</span><span class="hl-1">(</span><span class="hl-4">endToken</span><span class="hl-1">: </span><span class="hl-5">&#39;]&#39;</span><span class="hl-1"> | </span><span class="hl-5">&#39;}&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">arrVals</span><span class="hl-1">: </span><span class="hl-2">JsonToken</span><span class="hl-1">[] = [];</span><br/><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-4">val</span><span class="hl-1"> = </span><span class="hl-5">&#39;$&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-7">while</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> !== </span><span class="hl-4">endToken</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">val</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">next</span><span class="hl-1">();</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> === </span><span class="hl-5">&#39;,&#39;</span><span class="hl-1">) </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> === </span><span class="hl-5">&#39;[&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeArray</span><span class="hl-1">());</span><br/><span class="hl-1">                </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> === </span><span class="hl-5">&#39;{&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeObject</span><span class="hl-1">());</span><br/><span class="hl-1">                </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">val</span><span class="hl-1"> === </span><span class="hl-5">&#39;&quot;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">key</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeWord</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">next</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">_consumeWhitespace</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">next</span><span class="hl-1">());</span><br/><br/><span class="hl-1">                </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">next</span><span class="hl-1"> !== </span><span class="hl-5">&#39;:&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">vals</span><span class="hl-1">.</span><span class="hl-6">unshift</span><span class="hl-1">(</span><span class="hl-4">next</span><span class="hl-1">);</span><br/><span class="hl-1">                    </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">({</span><br/><span class="hl-1">                        </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">                        </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><br/><span class="hl-1">                    });</span><br/><span class="hl-1">                    </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">                }</span><br/><br/><span class="hl-1">                </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeKeyValue</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">));</span><br/><span class="hl-1">                </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-8">/\d/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-4">arrVals</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">({</span><br/><span class="hl-1">                    </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeNumber</span><span class="hl-1">(</span><span class="hl-4">val</span><span class="hl-1">),</span><br/><span class="hl-1">                    </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-4">arrVals</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">/**</span><br/><span class="hl-3">     * Consumes the value of a key/value pair</span><br/><span class="hl-3">     * </span><span class="hl-0">@param</span><span class="hl-3"> </span><span class="hl-4">key</span><span class="hl-3"> The key in a key/value pair</span><br/><span class="hl-3">     * </span><span class="hl-0">@returns</span><span class="hl-3"> A token whose value is a string, number,</span><br/><span class="hl-3">     * object, or array</span><br/><span class="hl-3">     */</span><br/><span class="hl-1">    </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-6">consumeKeyValue</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">): </span><span class="hl-2">JsonToken</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">_consumeWhitespace</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">next</span><span class="hl-1">());</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1"> === </span><span class="hl-5">&#39;{&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeObject</span><span class="hl-1">().</span><span class="hl-4">value</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;object&#39;</span><br/><span class="hl-1">            };</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1"> === </span><span class="hl-5">&#39;[&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeArray</span><span class="hl-1">().</span><span class="hl-4">value</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;array&#39;</span><br/><span class="hl-1">            };</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">value</span><span class="hl-1"> === </span><span class="hl-5">&#39;&quot;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeWord</span><span class="hl-1">(),</span><br/><span class="hl-1">                </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><br/><span class="hl-1">            };</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-8">/\d/</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">key</span><span class="hl-1">,</span><br/><span class="hl-1">                </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-6">consumeNumber</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">position</span><br/><span class="hl-1">            };</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">throw</span><span class="hl-1"> </span><span class="hl-5">&#39;Unexpected char encountered &quot;&#39;</span><span class="hl-1"> + </span><span class="hl-4">value</span><span class="hl-1"> + </span><span class="hl-5">&#39;&quot;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>To see the <code>JsonTokenizer</code> in action, let's use a JSON string and
tokenize it using the methods we've built.</p>
<pre><code class="ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">jsonString</span><span class="hl-1"> = </span><span class="hl-5">&#39;{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30, &quot;children&quot;: [&quot;Jane&quot;, &quot;Jack&quot;]}&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">tokenizer</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-6">JsonTokenizer</span><span class="hl-1">(</span><span class="hl-4">jsonString</span><span class="hl-1">.</span><span class="hl-6">split</span><span class="hl-1">(</span><span class="hl-5">&#39;&#39;</span><span class="hl-1">));</span><br/><span class="hl-4">tokenizer</span><span class="hl-1">.</span><span class="hl-6">tokenize</span><span class="hl-1">();</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">tokenizer</span><span class="hl-1">.</span><span class="hl-4">tokens</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>In this example, we:</p>
<ol>
<li>Split the JSON string into an array of characters.</li>
<li>Initialize the <code>JsonTokenizer</code> with the array of characters.</li>
<li>Call <code>tokenize()</code> to process the entire input.</li>
</ol>
<p>The tokenizer will break the JSON string down into tokens for objects,
arrays, keys, and values.</p>
<a id="md:output-example" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Output Example<a href="#md:output-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The result of tokenization will be a structured array of <code>JsonToken</code>
objects. Here's a rough idea of what the output might look like:</p>
<pre><code class="ts"><span class="hl-1">[</span><br/><span class="hl-1">    { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&quot;object&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> [...] },</span><br/><span class="hl-1">    { </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-5">&quot;name&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-5">&quot;John&quot;</span><span class="hl-1">, </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-11">2</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-5">&quot;age&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-11">30</span><span class="hl-1">, </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-11">15</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-5">&quot;children&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> [{...}, {...}], </span><span class="hl-4">position:</span><span class="hl-1"> </span><span class="hl-11">25</span><span class="hl-1"> }</span><br/><span class="hl-1">]</span>
</code><button type="button">Copy</button></pre>

<p>This structured output provides a clean and hierarchical view of the
JSON data, which can be used in further processing, such as parsing or
interpreting the JSON.</p>
<a id="md:conclusion" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Conclusion<a href="#md:conclusion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By following this tutorial, you have built a robust <code>JsonTokenizer</code> that
can parse and tokenize JSON objects and arrays. This class can be
extended to handle more complex JSON structures and additional data
types. Here's a recap of the steps involved:</p>
<ol>
<li><strong>Define the <code>JsonToken</code> interface</strong> to structure tokens with object
or array types.</li>
<li><strong>Implement <code>onNextToken()</code></strong> to identify and delegate token
processing based on the type of JSON element.</li>
<li><strong>Create methods to handle JSON objects and arrays</strong>, using
recursive logic to process nested structures.</li>
<li><strong>Handle whitespace and other insignificant characters</strong> to ensure
clean tokenization.</li>
</ol>
<p>This tokenizer can serve as a foundation for building more complex
parsers and interpreters for JSON-like data formats.</p>
<a id="md:further-processing" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Further Processing<a href="#md:further-processing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Using the <code>JsonTokenizer</code> we just created, we can create a namespace
<code>MyJson</code> that has a <code>parse</code> method that iterates over the tokens
and create an object or array from them:</p>
<pre><code class="ts"><span class="hl-0">namespace</span><span class="hl-1"> </span><span class="hl-2">MyJSON</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">/**</span><br/><span class="hl-3">     * Parses the final JSON object from its tokens.</span><br/><span class="hl-3">     */</span><br/><span class="hl-1">    </span><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-6">parse</span><span class="hl-1">&lt;</span><span class="hl-2">T</span><span class="hl-1">&gt;(</span><span class="hl-4">jsonString</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">tokens</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-6">JsonTokenizer</span><span class="hl-1">([...</span><span class="hl-4">jsonString</span><span class="hl-1">]).</span><span class="hl-6">tokenize</span><span class="hl-1">().</span><span class="hl-4">tokens</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">root</span><span class="hl-1"> = </span><span class="hl-4">tokens</span><span class="hl-1">.</span><span class="hl-6">shift</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-4">root</span><span class="hl-1">) </span><span class="hl-7">throw</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-6">SyntaxError</span><span class="hl-1">(</span><span class="hl-5">&#39;JSON object must have a root token.&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-10">type</span><span class="hl-1">, </span><span class="hl-10">value</span><span class="hl-1"> } = </span><span class="hl-4">root</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-4">Array</span><span class="hl-1">.</span><span class="hl-6">isArray</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-7">throw</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-6">SyntaxError</span><span class="hl-1">(</span><span class="hl-5">&#39;JSON object root token must have values.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">type</span><span class="hl-1"> === </span><span class="hl-5">&#39;array&#39;</span><span class="hl-1">) </span><span class="hl-7">return</span><span class="hl-1"> &lt;</span><span class="hl-2">T</span><span class="hl-1">&gt;</span><span class="hl-6">parseArray</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">type</span><span class="hl-1"> === </span><span class="hl-5">&#39;object&#39;</span><span class="hl-1">) </span><span class="hl-7">return</span><span class="hl-1"> &lt;</span><span class="hl-2">T</span><span class="hl-1">&gt;</span><span class="hl-6">parseObject</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-7">throw</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-6">Error</span><span class="hl-1">(</span><span class="hl-5">&#39;Cannot parse JSON object&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-6">parseObject</span><span class="hl-1">(</span><span class="hl-4">objChildren</span><span class="hl-1">: </span><span class="hl-2">JsonToken</span><span class="hl-1">[]) {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">obj</span><span class="hl-1">: </span><span class="hl-2">any</span><span class="hl-1"> = {};</span><br/><br/><span class="hl-1">        </span><span class="hl-7">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> { </span><span class="hl-4">value</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">, </span><span class="hl-4">type</span><span class="hl-1"> } </span><span class="hl-0">of</span><span class="hl-1"> </span><span class="hl-4">objChildren</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">key</span><span class="hl-1"> = </span><span class="hl-4">key</span><span class="hl-1">?.</span><span class="hl-6">replace</span><span class="hl-1">(</span><span class="hl-8">/&quot;/</span><span class="hl-0">g</span><span class="hl-1">, </span><span class="hl-5">&#39;&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">Array</span><span class="hl-1">.</span><span class="hl-6">isArray</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">) &amp;&amp; </span><span class="hl-4">key</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">type</span><span class="hl-1"> === </span><span class="hl-5">&#39;array&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-4">obj</span><span class="hl-1">[</span><span class="hl-4">key</span><span class="hl-1">] = </span><span class="hl-6">parseArray</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">);</span><br/><span class="hl-1">                    </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">                }</span><br/><br/><span class="hl-1">                </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">type</span><span class="hl-1"> === </span><span class="hl-5">&#39;object&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-4">obj</span><span class="hl-1">[</span><span class="hl-4">key</span><span class="hl-1">] = </span><span class="hl-6">parseObject</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">);</span><br/><span class="hl-1">                    </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">key</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-0">typeof</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> === </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">) </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-6">replace</span><span class="hl-1">(</span><span class="hl-8">/&quot;/</span><span class="hl-0">g</span><span class="hl-1">, </span><span class="hl-5">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-4">obj</span><span class="hl-1">[</span><span class="hl-4">key</span><span class="hl-1">] = </span><span class="hl-4">value</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-4">obj</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-6">parseArray</span><span class="hl-1">(</span><span class="hl-4">arrChildren</span><span class="hl-1">: </span><span class="hl-2">JsonToken</span><span class="hl-1">[]) {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-10">arr</span><span class="hl-1">: </span><span class="hl-2">any</span><span class="hl-1">[] = [];</span><br/><br/><span class="hl-1">        </span><span class="hl-7">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> { </span><span class="hl-4">value</span><span class="hl-1">, </span><span class="hl-4">type</span><span class="hl-1"> } </span><span class="hl-0">of</span><span class="hl-1"> </span><span class="hl-4">arrChildren</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">Array</span><span class="hl-1">.</span><span class="hl-6">isArray</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">type</span><span class="hl-1"> === </span><span class="hl-5">&#39;array&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-4">arr</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-6">parseArray</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">));</span><br/><span class="hl-1">                    </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">                }</span><br/><br/><span class="hl-1">                </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">type</span><span class="hl-1"> === </span><span class="hl-5">&#39;object&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-4">arr</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-6">parseObject</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">));</span><br/><span class="hl-1">                    </span><span class="hl-7">continue</span><span class="hl-1">;</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><br/><span class="hl-1">            </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-0">typeof</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> === </span><span class="hl-5">&#39;string&#39;</span><span class="hl-1">) </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-6">replace</span><span class="hl-1">(</span><span class="hl-8">/&quot;/</span><span class="hl-0">g</span><span class="hl-1">, </span><span class="hl-5">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-4">arr</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-4">value</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-4">arr</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:fsnjstokenize"><span>@fsnjs/tokenize</span></a><ul><li><a href="#md:tutorial-building-the-jsontokenizer-class"><span>Tutorial: <wbr/>Building the <wbr/>Json<wbr/>Tokenizer <wbr/>Class</span></a></li><li><ul><li><a href="#md:define-the-jsontoken-interface"><span>Define the <wbr/>Json<wbr/>Token <wbr/>Interface</span></a></li><li><a href="#md:create-the-jsontokenizer-class"><span>Create the <wbr/>Json<wbr/>Tokenizer <wbr/>Class</span></a></li><li><ul><li><a href="#md:implement-onnexttoken"><span>Implement on<wbr/>Next<wbr/>Token()</span></a></li></ul></li><li><a href="#md:handle-whitespace"><span>Handle <wbr/>Whitespace</span></a></li><li><a href="#md:handle-json-objects-and-arrays"><span>Handle JSON objects and arrays</span></a></li><li><a href="#md:consume-objects-and-arrays"><span>Consume <wbr/>Objects and <wbr/>Arrays</span></a></li><li><a href="#md:consume-keyvalue-pairs"><span>Consume <wbr/>Key/<wbr/>Value <wbr/>Pairs</span></a></li><li><a href="#md:putting-it-all-together"><span>Putting <wbr/>It <wbr/>All <wbr/>Together</span></a></li><li><a href="#md:output-example"><span>Output <wbr/>Example</span></a></li><li><a href="#md:conclusion"><span>Conclusion</span></a></li><li><a href="#md:further-processing"><span>Further <wbr/>Processing</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@fsnjs/tokenize</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
